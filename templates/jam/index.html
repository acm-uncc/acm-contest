{% extends 'base.html' %}

{% block title %}
    Index
{% endblock %}

{% block content %}
    <h1>Index</h1>

    <h3>Problems</h3>

    <div class="list-group mb-2">
        {% for problem in problems %}
            <a href="{{ problem.get_absolute_url }}"
               class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                {{ problem.title }}

                <span class="badge badge-secondary">
                    {{ problem.difficulty }} difficulty
                </span>
            </a>
        {% endfor %}
    </div>

    {% if perms.jam.add_problem %}
        <a href="{% url 'jam:problem-create' %}" class="btn btn-outline-success mb-4">Add Problem</a>
    {% endif %}

    <h3>Users</h3>

    <ul class="list-group mb-2">
        {% for succeeded, u in top_users %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ u.username }}
                <span>
                    {% for prob in succeeded %}
                        <span class="badge badge-success">
                            {{ prob.title }}
                        </span>
                    {% endfor %}
                </span>
            </li>
        {% endfor %}
    </ul>
{% endblock %}